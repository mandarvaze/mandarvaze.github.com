<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Mandar Vaze" />
        <meta name="copyright" content="Mandar Vaze" />

        <meta name="twitter:creator" content="@mandarvaze">
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="how-to, ruby, learning, tutorial, " />

<meta property="og:title" content="How to convert posterous blog to Markdown "/>
<meta property="og:url" content="https://mandarvaze.github.io/2013/04/posterous-to-markdown.html" />
<meta property="og:description" content="This post should be helpful (if only for next few days) for those who want to save their posterous blogs." />
<meta property="og:site_name" content="Desi Penguin&#39;s Blog" />
<meta property="og:article:author" content="Mandar Vaze" />
<meta property="og:article:published_time" content="2013-04-23T00:00:00+00:00" />
<meta name="twitter:title" content="How to convert posterous blog to Markdown ">
<meta name="twitter:description" content="This post should be helpful (if only for next few days) for those who want to save their posterous blogs.">
<meta property="og:image" content="https://mandarvaze.github.io/theme/images/apple-touch-icon-152x152.png" />
<meta name="twitter:image" content="https://mandarvaze.github.io/theme/images/apple-touch-icon-152x152.png" >

        <title>How to convert posterous blog to Markdown  · Desi Penguin&#39;s Blog
</title>
        <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="https://mandarvaze.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://mandarvaze.github.io/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://mandarvaze.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://mandarvaze.github.io/theme/css/custom.css" media="screen">
        <link rel="shortcut icon" href="https://mandarvaze.github.io/theme/images/favicon.ico" type="image/x-icon" type="image/png" />
        <link rel="icon" href="https://mandarvaze.github.io/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" href="https://mandarvaze.github.io/theme/images/apple-touch-icon.png"  type="image/png" />
        <link rel="apple-touch-icon" sizes="57x57" href="https://mandarvaze.github.io/theme/images/apple-touch-icon-57x57.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="72x72" href="https://mandarvaze.github.io/theme/images/apple-touch-icon-72x72.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="76x76" href="https://mandarvaze.github.io/theme/images/apple-touch-icon-76x76.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="114x114" href="https://mandarvaze.github.io/theme/images/apple-touch-icon-114x114.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="120x120" href="https://mandarvaze.github.io/theme/images/apple-touch-icon-120x120.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="144x144" href="https://mandarvaze.github.io/theme/images/apple-touch-icon-144x144.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="https://mandarvaze.github.io/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link href="https://mandarvaze.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Desi Penguin&#39;s Blog - Full Atom Feed" />
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="https://mandarvaze.github.io/"><span class=site-name>Desi Penguin's Blog</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="https://mandarvaze.github.io">Home</a></li>
                            <li ><a href="https://mandarvaze.github.io/categories.html">Categories</a></li>
                            <li ><a href="https://mandarvaze.github.io/tags.html">Tags</a></li>
                            <li ><a href="https://mandarvaze.github.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="https://mandarvaze.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="https://mandarvaze.github.io/2013/04/posterous-to-markdown.html"> How to convert posterous blog to Markdown  </a></h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc" id="">

<ul class="simple">
<li><a class="reference internal" href="#option-1" id="id1">Option 1</a></li>
<li><a class="reference internal" href="#option-2" id="id2">Option 2</a></li>
<li><a class="reference internal" href="#fun-begins" id="id3">Fun Begins</a></li>
<li><a class="reference internal" href="#modifying-posterous-gem" id="id4">Modifying posterous gem</a></li>
<li><a class="reference internal" href="#getting-the-images" id="id5">Getting the images</a></li>
<li><a class="reference internal" href="#this-is-just-the-beginning" id="id6">This is just the beginning</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">

            
            
<!-- 1  Option 1
2  Option 2
3  Fun Begins
4  Modifying posterous gem
5  Getting the images
6  This is just the beginning -->
<p>As I have written in a <a class="reference external" href="http://mandarvaze.github.io/2013/04/why-move-to-static-blog.html">previous</a> post, I recently consolidated all of various blogs into this one.
Big one was posterous, especially because it is going away in a few days time, and I had two separate blogs (spaces as they used to call it) with them.
While the other posts talked about <em>why</em> this one talks about <em>How</em></p>
<div class="section" id="option-1">
<h2><a class="toc-backref" href="#id1">Option 1</a></h2>
<p>Posterous provides a backup of all your articles, in XML format. while initially I thought this format may not be useful for importing into pelican, looking back, it might be. I haven't tried it, so I don't know whether it helps. For more details  refer to the <a class="reference external" href="http://docs.getpelican.com/en/3.1.1/importer.html">pelican documentation</a>
Hopefully this is easier of the two routes.</p>
</div>
<div class="section" id="option-2">
<h2><a class="toc-backref" href="#id2">Option 2</a></h2>
<p>First you need to "get" your postreous posts from their server to your local machine.
You can use this <a class="reference external" href="https://github.com/bmann/posterous-export/blob/master/posterous-export.rb">original</a> script.</p>
<p>I had to make some <a class="reference external" href="https://github.com/mandarvaze/posterous-export/blob/master/posterous-export.rb">changes</a> to the script, to make it work for me. I suggest you keep both of them handy.
<em>I am not a ruby developer. so my changes are rudimentary, not the way ruby developer would do. But based on the logic, some old style debugging, and stackover help for ruby syntax, I was able to get it to work.</em></p>
</div>
<div class="section" id="fun-begins">
<h2><a class="toc-backref" href="#id3">Fun Begins</a></h2>
<p>For the script to work, you need (ruby off course) posterous "gem". Consider this as a library or a package, if you aren't familair with Ruby.
not being a ruby programmer, I didn't know this, so I got the following error:</p>
<div class="highlight"><pre><span></span>$ sudo gem install posterous
<span class="o">[</span>sudo<span class="o">]</span> password <span class="k">for</span> mandar:
Fetching: ffi-1.7.0.gem <span class="o">(</span><span class="m">100</span>%<span class="o">)</span>
Building native extensions.  This could take a <span class="k">while</span>...
ERROR:  Error installing posterous:
    ERROR: Failed to build gem native extension.

    /usr/bin/ruby1.9.1 extconf.rb
 /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in <span class="sb">`</span>require<span class="s1">': cannot load such file -- mkmf (LoadError)</span>
<span class="s1">     from /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'</span>
     from extconf.rb:4:in <span class="sb">`</span>&lt;main&gt;<span class="err">'</span>

 Gem files will remain installed in /var/lib/gems/1.9.1/gems/ffi-1.7.0 <span class="k">for</span> inspection.
 Results logged to /var/lib/gems/1.9.1/gems/ffi-1.7.0/ext/ffi_c/gem_make.out
</pre></div>
<p>Some googline revealed that this is a know problem which can be fixed by</p>
<div class="highlight"><pre><span></span>sudo apt-get install ruby1.9.1-dev
</pre></div>
<p>Now I was successfully able to install the posterous gem.</p>
</div>
<div class="section" id="modifying-posterous-gem">
<h2><a class="toc-backref" href="#id4">Modifying posterous gem</a></h2>
<p>Original error went away, the script moved forward till the next error.</p>
<div class="highlight"><pre><span></span>The option: username is invalid. <span class="o">(</span>Ethon::Errors::InvalidOption<span class="o">)</span>
Please try userpwd instead of username.
</pre></div>
<p>Found the <a class="reference external" href="https://github.com/posterous/posterous-gem/issues/5#issuecomment-13539354">workaround</a> on github posterous gem issues list</p>
<p>Now that initial problem went away, I started getting the problems in the script itself. Good thing was I learnt <a class="reference external" href="http://stackoverflow.com/questions/3955688/how-do-i-debug-ruby-scripts">debugging</a> ruby script via printf method.
Realized there was problem w/ save_media. So at first I commented this function call, and then eveything was OK. I successfuly downloaded all my posts from one of the blogs.</p>
</div>
<div class="section" id="getting-the-images">
<h2><a class="toc-backref" href="#id5">Getting the images</a></h2>
<p>Now that I was partially successful, I wanted to make sure I get the images as well. So I added further debug/printf like statements, and in the process learnt about "if my_object.nil? " <a class="reference external" href="http://lukaszwrobel.pl/blog/ruby-is-nil">idiom</a>
With that I was able to get the images as well from my second blog. (and then another pass at my first blog, with images)</p>
</div>
<div class="section" id="this-is-just-the-beginning">
<h2><a class="toc-backref" href="#id6">This is just the beginning</a></h2>
<p>Now that you have your posts from posterous secured, the "deadline" pressure of posterous going away on April 30th, 2013 is removed. But I coulnd't just use the converted files as is.</p>
<ol class="arabic simple">
<li>Markdown files didn't work with pelican directly, even after installing Markdown python module in my virtual environment. I ran into <a class="reference external" href="http://martinbrochhaus.com/2012/02/pelican.html#comment-726961261">this</a> error. (<em>BTW, you should totally boormark the article on which the comment is made</em>) So I <em>hand converted</em> the md files to rst. It didn't take that long, but was a manual process.</li>
<li>Links from posterous don't work, especially for images that were uploaded to posterous. These links point to posterous' own Amazon S3 (which will also go away soon) But you have the images downloaded by the ruby script, so all the links need to be fixed (manually)</li>
<li>I also did some editing. Not all my posts were moved. e.g. One of my posts "Why posterous rocks" didn't make it to this blog :)</li>
</ol>
<p>I am still learning the rst and pelican, so reference to local images folder works "partially" Luckily, most other places, I was already referring to third party image URL, so it didn't matter.</p>
</div>

            <section>
    <p id="post-share-links">
    Share on:
    <a href="http://twitter.com/home?status=b'How%20to%20convert%20posterous%20blog%20to%20Markdown%20https%3A//mandarvaze.github.io/2013/04/posterous-to-markdown.html'" target="_blank" title="Share on Twitter">Twitter</a>
    ❄
    <a href="http://www.facebook.com/sharer/sharer.php?u=https%3A//mandarvaze.github.io/2013/04/posterous-to-markdown.html" target="_blank" title="Share on Facebook">Facebook</a>
    ❄
    <a href="https://plus.google.com/share?url=https%3A//mandarvaze.github.io/2013/04/posterous-to-markdown.html" target="_blank" title="Share on Google Plus">Google+</a>
    ❄
    <a href="mailto:?subject=How%20to%20convert%20posterous%20blog%20to%20Markdown&amp;body=https%3A//mandarvaze.github.io/2013/04/posterous-to-markdown.html" target="_blank" title="Share via Email">Email</a>
    </p>
</section>

            <section>
<div class="accordion" id="accordion2">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle disqus-comment-count" data-toggle="collapse" data-parent="#accordion2"
                href="https://mandarvaze.github.io/2013/04/posterous-to-markdown.html#disqus_thread">
                Comments
            </a>
        </div>
        <div id="disqus_thread" class="accordion-body collapse">
            <div class="accordion-inner">
                <div class="comments">
                    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'desipenguinsblog';
        var disqus_identifier = 'https://mandarvaze.github.io/2013/04/posterous-to-markdown.html';
    var disqus_url = 'https://mandarvaze.github.io/2013/04/posterous-to-markdown.html';

    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

                </div>
            </div>
        </div>
    </div>
</div>
</section>

            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="https://mandarvaze.github.io/2013/04/why-move-to-static-blog.html" title="Previous: Why I moved to Static Blog ?">Why I moved to Static Blog ?</a></li>
                <li class="next-article"><a href="https://mandarvaze.github.io/2013/12/the-hobbit-desolation-of-smaug.html" title="Next: Review &#34;The Hobbit : The Desolation of Smaug&#34;">Review "The Hobbit : The Desolation of Smaug"</a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2013-04-23T00:00:00+00:00">Apr 23, 2013</time>
            <h4>Category</h4>
            <a class="category-link" href="https://mandarvaze.github.io/categories.html#tutorial-ref">tutorial</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="https://mandarvaze.github.io/tags.html#how-to-ref">how-to
                    <span>3</span>
</a></li>
                <li><a href="https://mandarvaze.github.io/tags.html#learning-ref">learning
                    <span>2</span>
</a></li>
                <li><a href="https://mandarvaze.github.io/tags.html#ruby-ref">ruby
                    <span>1</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="http://twitter.com/mandarvaze" title="My twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="https://www.linkedin.com/in/mandarvaze" title="My linkedin Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-linkedin sidebar-social-links"></i></a>
    <a href="http://github.com/mandarvaze" title="My github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

            <script type="text/javascript">
var disqus_shortname = 'desipenguinsblog';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
<script  language="javascript" type="text/javascript">
function uncollapse() {
    if (window.location.hash.match(/^#comment-\d+$/)) {
        $('#disqus_thread').collapse('show');
    }
}
</script>
<script type="text/javascript" language="JavaScript">
uncollapse();
window.onhashchange=function(){
    if (window.location.hash.match(/^#comment-\d+$/))
        window.location.reload(true);
}
</script>
<script>
$('#disqus_thread').on('shown', function () {
    var link = document.getElementsByClassName('accordion-toggle');
    var old_innerHTML = link[0].innerHTML;
    $(link[0]).fadeOut(500, function() {
        $(this).text('Click here to hide comments').fadeIn(500);
    });
    $('#disqus_thread').on('hidden', function () {
        $(link[0]).fadeOut(500, function() {
            $(this).text(old_innerHTML).fadeIn(500);
        });
    })
})
</script>


    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>