<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Desi Penguin's Blog - how-to</title><link href="http://mandarvaze.github.io/" rel="alternate"></link><link href="http://mandarvaze.github.io/feeds/how-to.atom.xml" rel="self"></link><id>http://mandarvaze.github.io/</id><updated>2017-06-15T12:57:48-06:30</updated><entry><title>Using local password manager</title><link href="http://mandarvaze.github.io/2017/06/using-local-password-manager.html" rel="alternate"></link><published>2017-06-15T12:57:48-06:30</published><updated>2017-06-15T12:57:48-06:30</updated><author><name>Mandar Vaze</name></author><id>tag:mandarvaze.github.io,2017-06-15:/2017/06/using-local-password-manager.html</id><summary type="html">&lt;div class="section" id="bit-of-history"&gt;
&lt;h2&gt;Bit of history&lt;/h2&gt;
&lt;p&gt;Long time ago I was using LastPass. and it worked well for me for a long time,
till it was acquired. I heard some &amp;quot;bad&amp;quot; things, which honestly I do not
remember, but it was probably like the &amp;quot;free&amp;quot; option will go away.&lt;/p&gt;
&lt;p&gt;I started looking for â€¦&lt;/p&gt;&lt;/div&gt;</summary><content type="html">&lt;div class="section" id="bit-of-history"&gt;
&lt;h2&gt;Bit of history&lt;/h2&gt;
&lt;p&gt;Long time ago I was using LastPass. and it worked well for me for a long time,
till it was acquired. I heard some &amp;quot;bad&amp;quot; things, which honestly I do not
remember, but it was probably like the &amp;quot;free&amp;quot; option will go away.&lt;/p&gt;
&lt;p&gt;I started looking for options, and chanced upon Dashlane.&lt;/p&gt;
&lt;p&gt;Honestly it worked really well, but there is this inkling that I can't explain,
that I need to move out.&lt;/p&gt;
&lt;p&gt;I tried KeePass - but honestly, it just doesn't compare. It is a just a storage.
Without ability to autofill the login pages, it is just too cumbersome.&lt;/p&gt;
&lt;p&gt;I've been hearing great things about &lt;a class="reference external" href="https://www.passwordstore.org/"&gt;pass&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I had tried it earlier in Feb 2017, but the companion browser addons did not
work (at that time) So I went back to Dashlane (I never stopped)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="import-the-data-from-dashlane"&gt;
&lt;h2&gt;Import the data from Dashlane&lt;/h2&gt;
&lt;p&gt;One of the issue was I wanted to import my existing data from Dashlane to
&lt;code&gt;pass&lt;/code&gt;. But this is &lt;strong&gt;not&lt;/strong&gt; natively supported. (For various valid
reasons) But there was an importer that worked with KeePass2 CSV file.&lt;/p&gt;
&lt;p&gt;This is a python script - very well written - I might add.&lt;/p&gt;
&lt;p&gt;It clearly documents the columns.&lt;/p&gt;
&lt;p&gt;Dashlane has &amp;quot;unsecure&amp;quot; export option, which exports the passwords in &amp;quot;normal&amp;quot;
CSV file.&lt;/p&gt;
&lt;p&gt;The sequence of the columns required by the importer wasn't far off.&lt;/p&gt;
&lt;p&gt;I manually fixed this issue, and populated the title column.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="upgrade-issues"&gt;
&lt;h2&gt;Upgrade. Issues&lt;/h2&gt;
&lt;p&gt;Since my &lt;code&gt;pass&lt;/code&gt; was old, I decided to upgrade. Bunch of extensions also
required relatively newer version.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;brew upgrade pass
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This upgraded &lt;code&gt;gpg&lt;/code&gt; as well. Warning says &amp;quot;backup ~/.gnupg&amp;quot;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mv .gnupg .gnupg.back
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now that &lt;code&gt;.gnupg&lt;/code&gt; was backed up, time to use the upgraded software.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;brew link --overwrite gnupg
pass init &amp;lt;PassStore Key&amp;gt;
python keepass2csv2pass.py dashlane-new.csv
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Most import failed because there was no gpg key&lt;/p&gt;
&lt;p&gt;So ..&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;gpg2 --full-generate-key
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now &lt;code&gt;python keepass2csv2pass.py dashlane-new.csv&lt;/code&gt; worked.&lt;/p&gt;
&lt;p&gt;confirm using&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pass about.me
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="autofill-aka-integration-with-the-browser"&gt;
&lt;h2&gt;Autofill aka Integration with the Browser&lt;/h2&gt;
&lt;p&gt;But &lt;code&gt;pass&lt;/code&gt; is a command line tool. It is just a backend for storage and
retrieval for the data.&lt;/p&gt;
&lt;p&gt;For autofill, there is  &lt;a class="reference external" href="https://github.com/dannyvankooten/browserpass"&gt;browserpass&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;There is some bug, which prevents autofill from working.&lt;/p&gt;
&lt;p&gt;The workaround was to unlock the passstore using &lt;code&gt;pass&lt;/code&gt; command from the
terminal first. I was asked for the passphrase interactively in the terminal.&lt;/p&gt;
&lt;p&gt;Once it was &amp;quot;unlocked&amp;quot;, I had to (re) start firefox from the terminal using
&lt;code&gt;open -a firefox&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;As of this writing, see this open bugs related to gpg passphrase:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Firefox doesn't show gpg passphrase dialog &lt;a class="reference external" href="https://github.com/dannyvankooten/browserpass/issues/87"&gt;#87&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Firefox doesn't show gpg passphrase dialog &lt;a class="reference external" href="https://github.com/dannyvankooten/browserpass/issues/23"&gt;#23&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/dannyvankooten/browserpass/issues/80"&gt;Unable to install chrome extension&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="keep-the-passstore-up-to-date"&gt;
&lt;h2&gt;Keep the passstore up to date&lt;/h2&gt;
&lt;p&gt;One time import is never enough when switching password manager. Ability to update existing entries and creating new ones is equally important.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pass&lt;/code&gt; falls short here.&lt;/p&gt;
&lt;p&gt;Inserting new entry is not easy as using Dashlane (which is very well integrated
with the browser)&lt;/p&gt;
&lt;p&gt;But &amp;quot;extension&amp;quot; are supposed to take care of that. There is already a &lt;a class="reference external" href="https://github.com/dannyvankooten/browserpass/issues/24"&gt;feature
request&lt;/a&gt; on the
browserpass&lt;/p&gt;
&lt;p&gt;None the less, here is how you do it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pass insert group/username
Enter password &lt;span class="k"&gt;for&lt;/span&gt; group/username:
Retype password &lt;span class="k"&gt;for&lt;/span&gt; group/username:
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I had a bit of a problem, since I had imported my old GPG keys from gpg1 to gpg2&lt;/p&gt;
&lt;p&gt;When I used &lt;code&gt;pass insert&lt;/code&gt; for the first time I saw the following error:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;There is no assurance this key belongs to the named user
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Since the working has changed a LOT (use of trustdb, as opposed to secring) I
need to explicitly trust the imported keys.&lt;/p&gt;
&lt;p&gt;The way to do this is &amp;quot;edit&amp;quot; the key and set the trust level explicitly.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Get the list of keys&lt;/span&gt;
gpg2 --list-keys
&lt;span class="c1"&gt;# Edit the key(s) you just imported&lt;/span&gt;
gpg2 --edit-key &amp;lt;KEYID&amp;gt;
&lt;span class="c1"&gt;# When asked, choose the trust level (5) being maximum, called ultimate&lt;/span&gt;
&lt;span class="c1"&gt;# confirm with &amp;quot;y&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;On a related note, &lt;a class="reference external" href="https://keepassxc.org/"&gt;KeePassXC&lt;/a&gt;, along with &lt;a class="reference external" href="https://addons.mozilla.org/en-us/firefox/addon/passifox/"&gt;PassIFox&lt;/a&gt; looks promising.
I'm waiting for &lt;a class="reference external" href="https://github.com/pfn/passifox/issues/634"&gt;this&lt;/a&gt; issue to be
fixed so that I can continue to enable multiprocess support in Firefox.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;&lt;em&gt;Cross-posted from my other&lt;/em&gt; &lt;a class="reference external" href="https://mandarvaze.bitbucket.io/"&gt;blog&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</content><category term="security"></category><category term="gpg"></category><category term="gpg2"></category><category term="password"></category></entry></feed>